<h3>Booking Dashboard</h3>

<div id="myProgress">
    <mat-progress-bar mode="indeterminate" *ngIf="staticgetBookingLoading"></mat-progress-bar>
</div>

<br>
 
<div>
    <div>
        <ngx-datatable style="max-width: 98%;" class="material" [loadingIndicator]="bookingList.showLoading" [messages]="bookingList.messages" 
        [sortType]="'multi'" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="50" [scrollbarV]="true" [scrollbarH]="true"
            [rows]="bookingList.bookingData" [selected]="bookingList.selected" [selectionType]="'checkbox'" [selectAllRowsOnPage]="false" 
        (select)='onSelect($event)' [scrollbarH]="true">
    
            <ngx-datatable-column [sortable]="false" [canAutoResize]="false" [draggable]="false" [resizeable]="true">
            <ng-template ngx-datatable-header-template let-value="value" let-allRowsSelected="allRowsSelected" let-selectFn="selectFn">
            <input class="regular-checkbox" type="checkbox" [checked]="allRowsSelected" (change)="selectFn(!allRowsSelected)" />
            </ng-template>
    
            <ng-template ngx-datatable-cell-template let-value="value" let-isSelected="isSelected" let-onCheckboxChangeFn="onCheckboxChangeFn">
                <input class="regular-checkbox" type="checkbox" [checked]="isSelected" (change)="onCheckboxChangeFn($event)" />
            </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Status">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    <label *ngIf="row.data.cuFlag == '1'">NEW</label>
                    <label *ngIf="row.data.cuFlag == '2'">UPDATE</label>
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Transaction Id">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.transactionId}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Booking No">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.bookingNo}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Cancel Reason">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.cancelReason}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Cancel With Charges">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.cancelWithCharges}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Chargeable Days">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.chargeableDays}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Room Rent Type">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.roomRentType}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Daily Room Rate">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.dailyRoomRate}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Total Room Rate">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.totalRoomRate}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="VAT">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.vat}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Municipality Tax">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.municipalityTax}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Discount">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.discount}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Total Room">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.grandTotal}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="Payment Methods">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    {{row.data.paymentType}}
                </ng-template>
            </ngx-datatable-column>
    
            <ngx-datatable-column name="View JSON">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    <button mat-flat-button (click)="viewJSON(row.data)">JSON</button>
                </ng-template>
            </ngx-datatable-column>
        </ngx-datatable>
    </div>
    
    <ngx-spinner></ngx-spinner>
</div>
