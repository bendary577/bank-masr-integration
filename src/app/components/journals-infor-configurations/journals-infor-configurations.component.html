<h3 mat-dialog-title>Update Consumption Configuartion</h3>

<div>
    <div *ngIf="!loading && syncJobType">
        <!-- Oracle Hospitality Configurations -->
        <mat-expansion-panel *ngIf="accountERD == 'ExportSun'">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Exported File
                </mat-panel-title>
            </mat-expansion-panel-header>
            <app-exported-file-configuration [syncJobType]=syncJobType></app-exported-file-configuration>
        </mat-expansion-panel>
        
        <!-- Oracle Hospitality Configurations -->
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Oracle Hospitality Configurations
                </mat-panel-title>
            </mat-expansion-panel-header>

            <div class="container" *ngIf="!loading">
                <form class="my-form">
                    <div>
                        <mat-form-field class="example-full-width">
                            <mat-select matInput id="consumptionBasedOnType" name="consumptionBasedOnType" placeholder="Consumption based on" 
                             [(ngModel)]="syncJobType.configuration.consumptionConfiguration.consumptionBasedOnType">
                                <mat-option value="Cost Center">Cost Center</mat-option>
                                <mat-option value="Location">Location</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </form>
            </div>
            <app-ohra-configuration [syncJobType]=syncJobType></app-ohra-configuration>
        </mat-expansion-panel>

        <!-- Infor Sun System Configurations -->
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Infor Sun System
                </mat-panel-title>
            </mat-expansion-panel-header>
            <app-infor-system-configuration [syncJobType]=syncJobType></app-infor-system-configuration>
        </mat-expansion-panel>
        
        <!-- Loction Ledger Analysis Configurations -->
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Analysis Codes
                </mat-panel-title>
            </mat-expansion-panel-header>

            <div class="container" *ngIf="!loading">
                <form class="my-form">
                    <div>
                        <mat-form-field class="example-full-width">
                            <mat-select matInput id="locationAnalysisCode" name="locationAnalysisCode" placeholder="Location Analysis Code" [(ngModel)]="syncJobType.configuration.locationAnalysisCode">
                                <mat-option [value]=code *ngFor="let code of analysisCodes">{{code}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </form>
            </div>
        </mat-expansion-panel>

        <!-- Analysis Configurations -->
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Analysis
                </mat-panel-title>
            </mat-expansion-panel-header>

            <app-analysis-configuration [analysis]=analysis></app-analysis-configuration>
        </mat-expansion-panel>

        <br>

        <div class="card-back">
            <button mat-flat-button (click)="onSaveClick()">Save</button>
            <button mat-flat-button (click)="onCancelClick()">Cancel</button>
        </div>

    </div>

    <div *ngIf="!loading && !syncJobType">
        <mat-card class="example-card">
                <mat-card-header>
                    <mat-card-title>Welcome</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <p>
                        Can't Configure your sync right now, Please try again after few minutes.
                    </p>
                </mat-card-content>
        </mat-card>
    </div>

    <ngx-spinner></ngx-spinner>
</div>
