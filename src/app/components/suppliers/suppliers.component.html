<h3>Suppliers</h3>

<div class="header">
        <select class="custom-select" (change)="getSyncJobData($event.target.value)">
            <option value="0" hidden selected disabled>Sync Job History </option>
    
            <option value={{job.id}} *ngFor="let job of jobs">
                {{job.creation_date}} - {{job.status}}</option>
         </select>

    
    <button mat-flat-button (click)="getSuppliersSyncJob()">Sync Suppliers Now</button>
</div>
<br>
<div *ngIf="!dataSource.length">
        <mat-card class="example-card">
                <mat-card-header>
                  <mat-card-title>No Data</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <p>
                        There was no new data to sync in this job, You can sync suppliers now from 
                    <a  (click)="getSuppliersSyncJob()">here</a>
                  </p>
                  
                </mat-card-content>
        </mat-card>
        </div>

<!-- <div class="example-header">
    <mat-form-field>
        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
    </mat-form-field>
    </div>        -->
        
<div class="main" *ngIf="dataSource.length">
    <ngx-datatable *ngIf="!loading" class="material" [rows]="dataSource" [columnMode]="'force'" [headerHeight]="50"
        [footerHeight]="50" [rowHeight]="50" [scrollbarV]="true"  [scrollbarH]="true" 
        [sorts]="[{prop: 'supplier', dir: 'asc'}, {prop: 'supplierId', dir: 'asc'}, {prop: 'supplierStatus', dir: 'asc'}, 
        {prop: 'supplierNumber', dir: 'asc'}]">
        <ngx-datatable-column name="Status">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.status}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Reason">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.reason}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Supplier">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.data.supplier}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="SupplierID">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.data.supplierId}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Supplier Status">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.data.status}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Supplier Number">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.data.supplierNumber}}
            </ng-template>
        </ngx-datatable-column>

    </ngx-datatable>
    <ngx-spinner></ngx-spinner>
</div>
