<div class="config-style"> 
<h3 mat-dialog-title>New Booking Configuartion</h3>

<div>

    <div *ngIf="!loading && syncJobType">
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    General Configuration
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput id="fileBaseName" name="fileBaseName" placeholder="File Base Name"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.fileBaseName">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput id="fileExtension" name="fileExtension" placeholder="File Extension"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.fileExtension">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput float id="municipalityTax" name="municipalityTax"
                        placeholder="Municipality Tax Rate"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.municipalityTaxRate">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput float id="vatRate" name="vatRate" placeholder="VAT Rate"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.vatRate">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput float id="serviceChargeRate" name="serviceChargeRate"
                        placeholder="Service Charge Rate"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.serviceChargeRate">
                </mat-form-field>
            </div>
        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Neglected Room Types
                </mat-panel-title>
            </mat-expansion-panel-header>


            <form class="my-form">
                <div>
                    <mat-form-field class="example-full-width">
                        <input matInput style="margin-right: 10px;padding-top: 8px;padding-bottom: 8px;"
                            placeholder="Room Type eg. Posting Master" name="roomType" [(ngModel)]="newRoomType">
                    </mat-form-field>
                    <button mat-flat-button (click)="addRoomType()">Add Room Type</button>
                </div>
            </form>

            <div *ngIf="neglectedRoomTypes?.length > 0">

                <div class="container">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <table class="table-latitude">
                                <thead>
                                    <th>Room Type</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let row of neglectedRoomTypes">
                                        <td style="text-align: center;">{{row}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

        </mat-expansion-panel>

        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Web Service Configuration
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput id="url" name="url" placeholder="Service Endpoint"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.url">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput id="gatewayKey" name="gatewayKey" placeholder="X-GatewayAPIKey"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.gatewayKey">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput id="username" name="username" placeholder="Web Service Username"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.username">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput id="password" name="password" placeholder="Web Service Password"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.password">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field class="example-full-width">
                    <input matInput id="channel" name="channel" placeholder="Web Service Channel"
                        [(ngModel)]="syncJobType.configuration.bookingConfiguration.channel">
                </mat-form-field>
            </div>
        </mat-expansion-panel>

        <br>
        <div class="card-back">
            <button mat-flat-button (click)="onSaveClick()">Save</button>
            <button mat-flat-button (click)="onCancelClick()">Cancel</button>
        </div>

    </div>

    <div *ngIf="!loading && !syncJobType">
        <mat-card class="example-card">
            <mat-card-header>
                <mat-card-title>Welcome</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <p>
                    Can't Configure your sync right now, Please try again after few minutes.
                </p>
            </mat-card-content>
        </mat-card>
    </div>

    <ngx-spinner></ngx-spinner>
</div>

</div>